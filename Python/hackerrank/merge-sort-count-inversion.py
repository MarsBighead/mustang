#!/bin/python3

import math
import os
import random
import re
import sys


def merge_sort(cnt, arr):
    if len(arr) == 1: 
        return cnt, arr
    mid = len(arr) // 2
    left = arr[:mid]
    right = arr[mid:]
    cnt,left=merge_sort(cnt, left)
    #print ("left num: ", cnt, left)
    cnt,right=merge_sort(cnt, right)
    #print ("right num: ", cnt, right)
    return merge(left, right, cnt)


def merge(left, right, cnt):
    result = []
    lnum=len(left)
    rnum=len(right)
    i,j=0,0
    while lnum>i and rnum>j:
        #if len(left)==2: print("left=%d, right=%d" % (left[i],right[j]))
        if left[i] <= right[j]:
            result.append(left[i])
            i+=1
        else:
            result.append(right[j])
            cnt+=lnum-i
            j+=1
    #if len(right)==2: print("end i=%d, j=%d" % (i,j))
    result += left[i:]
    result += right[j:]
    return cnt, result
    

# Complete the countInversions function below.
def countInversions(arr):
    cnt=0
    if len(arr) == 1:return cnt
    cnt, result=merge_sort(cnt, arr)
    #print ("result=", result)
    return cnt



if __name__ == '__main__':
    n = 384
    arr=[2, 1, 3, 1, 2]
    arr=[7, 5, 3, 1]
    arr=[1, 5, 3, 7]
    #arr = [962505, 690614, 801962, 262755, 31327, 154260, 518945, 828203, 613203, 723507, 936785, 902022, 222843, 390869, 789529, 235190, 608873, 949909, 849959, 210499, 448037, 518809, 457754, 686249, 383304, 33334, 132134, 321649, 772891, 999755, 517568, 251747, 690369, 319530, 514501, 238047, 473789, 549798, 66250, 86991, 273304, 3034, 505364, 12498, 910254, 294893, 247687, 519126, 761153, 613997, 245976, 209189, 649158, 703730, 895437, 32461, 253415, 543922, 870461, 26305, 60029, 388028, 278051, 266749, 707557, 308903, 504795, 697698, 858700, 571044, 301040, 132003, 90429, 806404, 144501, 682, 617648, 908539, 36160, 895152, 522536, 282135, 104340, 171693, 502216, 516128, 720505, 755630, 60050, 590965, 298286, 636430, 495344, 576336, 903178, 202901, 885239, 407972, 416950, 260290, 495368, 717989, 392293, 585796, 40744, 53145, 102830, 658391, 961683, 655341, 553542, 570, 453827, 174233, 172262, 956043, 690361, 409118, 228024, 266762, 82, 526310, 903191, 495426, 618997, 806368, 214678, 504235, 730691, 631627, 764525, 226058, 349615, 673169, 328206, 390359, 726313, 947387, 565101, 204347, 602727, 634995, 204917, 56553, 325579, 893530, 528947, 532291, 302648, 756971, 799052, 819081, 799632, 218594, 830858, 418628, 541313, 561887, 439215, 788356, 193513, 720091, 14413, 59480, 909611, 858970, 966190, 152275, 806356, 47642, 356621, 925434, 198988, 77889, 498339, 524567, 487771, 27285, 56857, 790418, 300607, 372261, 125850, 100238, 107206, 473060, 35218, 648519, 34946, 990784, 436874, 228459, 710874, 967638, 804290, 620484, 826608, 770479, 772758, 149315, 334472, 645730, 591101, 533460, 723619, 89439, 58026, 211389, 633075, 631234, 518158, 933682, 3494, 160359, 550271, 110700, 633418, 101840, 275570, 668364, 92623, 228795, 413174, 319848, 196432, 217463, 456683, 539391, 504293, 745792, 205058, 355116, 391522, 796158, 888575, 631492, 401948, 462952, 359232, 35022, 610538, 393741, 485055, 614031, 554099, 35326, 241082, 187517, 653517, 33003, 372232, 746140, 261797, 785405, 582339, 974581, 519219, 39022, 513971, 539863, 784813, 235380, 894978, 692686, 31537, 299905, 324177, 433484, 279208, 199760, 984858, 889745, 593500, 469912, 20128, 663951, 505237, 777561, 367819, 675106, 810564, 740050, 421245, 588712, 41806, 519935, 563292, 77376, 558956, 593615, 133590, 343769, 828994, 544919, 552806, 376883, 844823, 876983, 326718, 124031, 593094, 311575, 530127, 186594, 781487, 550254, 850544, 803075, 327815, 734714, 478180, 138378, 474763, 415776, 727089, 32920, 935711, 806733, 110295, 11018, 400347, 760236, 871138, 745692, 305154, 423944, 122574, 666329, 300926, 449292, 306711, 894019, 277218, 836837, 596964, 575056, 387091, 963859, 378131, 714905, 698572, 372662, 369634, 689686, 304790, 613074, 722605, 756852, 419806, 349251, 767869, 336504, 109486, 639007, 82196, 414640, 62950, 721121, 80968, 880227, 686764, 387678, 290597, 963982, 740866, 887561, 539037, 127956, 367771, 433519, 359212, 66343, 322533, 245197, 272380, 627322, 858271, 994985, 384173, 794428, 344235, 152041, 647284, 970073, 307399, 245831, 901064, 370348, 966951, 982031, 250574, 653715, 886060, 57523, 134048, 626925, 945083, 189436, 271233, 829205, 622955, 630444, 411899, 945487, 875641, 684279, 89160, 250263, 679263, 989684, 561042, 539849, 141724, 208325, 26273, 449123, 454155, 927336, 335822, 937458, 909366, 102748, 591172, 311777, 160270, 725219, 938702, 621704, 914654, 209934, 450908, 53960, 356729, 862807, 515798, 748721, 547085, 121309, 515335, 742699, 110992, 76377, 798899, 252716, 801053, 825172, 218190, 771560, 752507, 554011, 709017, 178225, 173110, 816540, 490001, 333379, 58110, 945054, 955082, 489115, 671339, 405990, 59427, 28068, 785148, 575224, 776788, 332232, 696533, 292123, 591282, 323876, 884851, 390180, 576591, 202255, 215351, 311132, 973814, 967858, 381495, 199182, 146082, 554604, 15721, 152434, 887983, 590182, 97488, 359416, 79297, 768826, 765405, 138723, 796893, 550552, 230298, 90033, 399135, 443182, 898507, 990416, 767058, 299709, 380596, 860000, 501963, 112298, 687484, 475777, 80155, 68978, 191310, 742588, 139933, 723383, 895022, 544267, 313564, 508861, 903683, 909212, 277686, 669087, 564286, 590931, 735991, 794584, 197315, 651477, 754117, 95821, 641893, 37526, 395529, 538840, 897526, 897491, 651137, 101361, 889619, 247644, 170338, 80929, 506583, 826622, 804311, 917956, 370889, 634226, 426816, 274571, 543438, 220854, 460009, 107723, 811784, 712351, 418658, 9098, 363828, 689127, 621270, 522072, 726652, 533150, 60911, 140529]

    result = countInversions(arr)
    print (result)
